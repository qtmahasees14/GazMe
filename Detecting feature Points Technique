cropedImage = imread('car1_crp.jpg');
imshow(cropedImage);
sideImage = imread('car1.jpg');
imshow(sideImage);
CImage = rgb2gray(cropedImage);
SImage = rgb2gray(sideImage);
cropPoints = detectSURFFeatures(CImage);
sidePoints = detectSURFFeatures(SImage);
imshow(CImage);
imshow(CImage);
hold on;
plot(selectStrongest(cropPoints, 100));
imshow(SImage);
hold on;
plot(selectStrongest(sidePoints,300));
[cropFeatures, cropPoints] = extractFeatures(CImage, cropPoints);
[sideFeaures, sidePoints] = extractFeatures(SImage, sidePoints);
pairs = matchFeatures(cropFeatures, sideFeatures);
matchedCropPoints = cropPoints(pairs(:,1), :);
matchedSidePoints = sidePoints(pairs(:,2), :);
showMatchedFeatures(CImage, SImage, matchedCropPoints, matchedSidePoints, 'montage');
showMatchedFeatures(CImage, SImage, matchedCropPoints, matchedSidePoints, 'montage');
